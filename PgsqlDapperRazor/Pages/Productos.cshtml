@page
@model ProductosModel
@{
    ViewData["Title"] = "Detalle de productos disponibles";

}

<div class="text-center">
    <h3 class="display-5">Lista de productos</h3>

    <table class="table table-striped" id="tablaProductos">
        
            <tr class="thead-dark">                
                <th>ID</th>
                <th>Nombre</th>
            </tr>
        
        

            @foreach (var cli in Model.ListaProductos)
            {
            <tr>                
                <td>@cli.Id</td>
                <td>@cli.Name</td>
            </tr>
            }
        
    </table>

</div>
<form method="post"  hidden>    
    <input type="text"  name="idProducto" />
    <input type="submit" id="sendform">
</form>

<table class="table table-striped table-bordered" id="detalleProducto">
    <thead class="thead-light">
        <tr>
            <th>Nombre</th>
            <th>Modelo</th>
            <th>Color</th>
            <th>Precio</th>
        </tr>
    </thead>

    @{

        <tr id="row1">
            <td id="namerow1">@Model.ProductoDetalle.Name</td>
            <td id="modelrow1">@Model.ProductoDetalle.Model</td>
            <td id="colorrow1">@Model.ProductoDetalle.Color</td>
            <td id="pricerow1">@Model.ProductoDetalle.Price</td>
        </tr>
    }

</table>

<p>@Model.Message</p>
@section scripts {
    <script>
                $("#tablaProductos").on('click', 'tr', function () {
                    var idProducto = $(this).find("td").eq(0).html();
                    $("input[name=idProducto]").val(idProducto);                    
                    $("#sendform").click();

                })
    </script>
}